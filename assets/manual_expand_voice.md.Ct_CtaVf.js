import{_ as i,c as t,o as a,a2 as e}from"./chunks/framework.CPU0zDjs.js";const k=JSON.parse('{"title":"🎙️ 语音功能使用说明","description":"","frontmatter":{},"headers":[],"relativePath":"manual/expand/voice.md","filePath":"manual/expand/voice.md","lastUpdated":1753498610000}'),l={name:"manual/expand/voice.md"};function n(p,s,h,r,o,d){return a(),t("div",null,s[0]||(s[0]=[e(`<h1 id="🎙️-语音功能使用说明" tabindex="-1">🎙️ 语音功能使用说明 <a class="header-anchor" href="#🎙️-语音功能使用说明" aria-label="Permalink to &quot;🎙️ 语音功能使用说明&quot;">​</a></h1><h2 id="基础语音功能-vits-使用" tabindex="-1">基础语音功能 VITS 使用 <a class="header-anchor" href="#基础语音功能-vits-使用" aria-label="Permalink to &quot;基础语音功能 VITS 使用&quot;">​</a></h2><ul><li>若要使用 <code>Vits</code> 语音功能，Windows 用户请下载链接程序<a href="https://github.com/Artrajz/vits-simple-api/releases" target="_blank" rel="noreferrer">simple-vits-api</a>，Linux 用户请见<a href="https://github.com/Artrajz/vits-simple-api/blob/main/README_zh.md" target="_blank" rel="noreferrer">官方文档</a>，安卓用户......别想了性能太差基本用不了。</li><li>该项目实现了基于 <code>Vits</code> 的简单语音合成 API。如果你是核显只能下载CPU版本。如果有独显建议下载 GPU 版本，速度快。</li><li>程序默认监听 23456 语音端口，程序默认导入的模型是 <a href="https://github.com/Zao-chen/ZcChat" target="_blank" rel="noreferrer">ZcChat 地址</a> -&gt; 讨论区 -&gt; 角色示范（丛雨）-&gt; <a href="https://github.com/Zao-chen/zao-chen.github.io/releases/download/%E8%B5%84%E6%BA%90%E4%B8%8B%E8%BD%BD/YuzuSoft_Vits.zip" target="_blank" rel="noreferrer">YuzuSoft_Vits.zip</a></li><li>模型下载好之后将压缩包 <code>YuzuSoft_Vits.zip</code> 解压到 simple-vits-api 的/data/models 目录下，再双击根目录下的 <code>start.bat</code> 启动就 ok 了</li><li>如果需要使用其他角色声线，请在 <code>game_data/characters/角色名/settings.txt</code> 中修改 <code>speaker_id</code> 这个属性（0~6可选）</li></ul><div class="note custom-block github-alert"><p class="custom-block-title">NOTE</p><p></p><ol><li>视频演示中的灵灵，语音使用的是Style-Bert-Vits2，丛雨的vits模型还需要打磨暂未发布，可以先用Simple-Vits-API，效果差不多</li><li>视频中的音理，请在Discussions区下载人物包，语音请使用Style-Bert-Vits2</li><li>建议先使用Simple-Vits-API玩玩，国人开发下载方便，需要扩展再用Style-Bert-Vits2</li><li>经过反映，如果你的电脑是核显或者太久以前的电脑，单个语音可能要一分钟才能生成，而GPU可以1秒内生成，而且会有大量报错可能，核显用户大可能只能放弃语音功能了（哭哭）</li></ol></div><h2 id="扩展语音功能-style-bert-vits2-使用" tabindex="-1">扩展语音功能 Style-Bert-Vits2 使用 <a class="header-anchor" href="#扩展语音功能-style-bert-vits2-使用" aria-label="Permalink to &quot;扩展语音功能 Style-Bert-Vits2 使用&quot;">​</a></h2><blockquote><p>（Style-Bert-Vits2模型使用更好的音色，可自定义训练）</p></blockquote><h3 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h3><ul><li>从下方相关链接中，下载Style-Bert-Vits2的 <a href="https://github.com/litagin02/Style-Bert-VITS2/releases" target="_blank" rel="noreferrer">Release</a> 的 <strong>最新版本</strong> ，解压</li><li>先决定这个软件（安装后12GB）的安装位置，然后启动里面的<code>Install-Style-Bert-VITS2.bat</code>文件（如果之后更改这个软件的位置会有Bug）</li><li>耐心等待很长时间后，这个软件会安装好。由于这个项目庞大，所以等待时间非常长</li><li>下载完毕后，在 <code>model_assests</code> 目录中，把下载好的Bert-Vits模型解压进去</li><li>打开程序的目录，里面有个 <code>server.bat</code> ，启动它即可使用</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>要是想使用这个功能，需要在 <code>game_data/characters/&lt;角色名&gt;/settings.txt</code> 中设定 <code>model_name</code> 的参数为导入的模型的名字<br> 模型的名字可以通过启动<code>app.bat</code>中的人物列表中查看</p></div><h3 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h3><p>运行以下命令安装：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://ghfast.top/github.com/litagin02/Style-Bert-VITS2.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Style-Bert-VITS2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> venv</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">venv\\Scripts\\activate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;torch&lt;2.4&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;torchaudio&lt;2.4&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --index-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://download.pytorch.org/whl/cu118</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #用于GPU合成，CPU请把后面的 cu118 换成 cpu</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> initialize.py</span></span></code></pre></div><p>下载完毕后，在 <code>model_assests</code> 目录中，把下载好的Bert-Vits模型解压进去</p><p>运行以下命令启动：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server_fastapi.py</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>要是想使用这个功能，需要在 <code>game_data/characters/&lt;角色名&gt;/settings.txt</code> 中设定 <code>model_name</code> 的参数为导入的模型的名字<br> 模型的名字可以通过运行 <code>python app.py</code> 查看人物列表</p></div>`,16)]))}const g=i(l,[["render",n]]);export{k as __pageData,g as default};
